function round(t,n){return Math.round(+t+"e"+n)/Math.pow(10,n)}let docsize=0;var ctJson="/hpp/admin/api/getlist";function del(t){swal({title:"确定！",text:`你将要删除${t}，真的这么做么？`,icon:"warning",buttons:!0,dangerMode:!0}).then((n=>{n?delfile(t):swal("好的，当前文件没有被删除",{icon:"success"})}))}function delfile(t){var n=ajaxObject();n.open("GET","/hpp/admin/api/deldoc/"+t,!0),n.setRequestHeader("Content-Type","text/plain"),n.onreadystatechange=function(){4==n.readyState&&(200==n.status?swal("已删除！",{icon:"success",buttons:{yes:"是"}}).then((t=>{window.location.reload()})):swal({title:"失败！",text:"文件删除失败，请确定您是否有权限删除，或者该文件是否存在",icon:"warning"}))},n.send()}function del_dr(t){swal({title:"确定！",text:`你将要删除${t}，真的这么做么？`,icon:"warning",buttons:!0,dangerMode:!0}).then((n=>{n?deldraft(t):swal("好的，当前文件没有被删除",{icon:"success"})}))}function deldraft(t){var n=ajaxObject();n.open("GET","/hpp/admin/api/deldraft/"+t,!0),n.setRequestHeader("Content-Type","text/plain"),n.onreadystatechange=function(){4==n.readyState&&(200==n.status?swal("已删除！",{icon:"success",buttons:{yes:"是"}}).then((t=>{window.location.reload()})):swal({title:"失败！",text:"文件删除失败，请确定您是否有权限删除，或者该文件是否存在",icon:"warning"}))},n.send()}$.getJSON(ctJson,(function(t){document.getElementById("tbody_doc").innerHTML="",$.each(t,(function(t,n){docsize=round(n.size/1024,2),$("#tbody_doc").append(`\n\t\t\t\t<tr>\n                          <td>\n                           ${n.name}\n                          </td>\n                          <td>\n                            ${docsize}KB\n                          </td>\n\t\t\t\t\t\t  <td>\n                            已发布\n                          </td>\n                          <td>\n                            <a href="https://cdn.jsdelivr.net/gh/${hpp_githubdocusername}/${hpp_githubdocrepo}@${hpp_githubdocbranch}${hpp_githubdocpath}${n.name}">CDN链接</a>\n                          </td>\n                          <td>\n                            <a href="javascript:del('${n.name}');">删除</a>\n                          </td>\n\t\t\t\t\t\t  <td>\n                            <a href="${n.download_url}">原始地址</a>\n                          </td>\n\t\t\t\t\t\t  <td>\n                            <a href="${n.html_url}">Github地址</a>\n                          </td>\n                        </tr>\n                `)}));$.getJSON("/hpp/admin/api/get_draftlist",(function(t){$.each(t,(function(t,n){docsize=round(n.size/1024,2),$("#tbody_doc").append(`\n\t\t\t\t<tr>\n                          <td>\n                           ${n.name}\n                          </td>\n                          <td>\n                            ${docsize}KB\n                          </td>\n\t\t\t\t\t\t  <td>\n                            未发布\n                          </td>\n                          <td>\n                            <a href="https://cdn.jsdelivr.net/gh/${hpp_githubdocusername}/${hpp_githubdocrepo}@${hpp_githubdocbranch}${hpp_githubdocdraftpath}${n.name}">CDN链接</a>\n                          </td>\n                          <td>\n                            <a href="javascript:del_dr('${n.name}');">删除</a>\n                          </td>\n\t\t\t\t\t\t  <td>\n                            <a href="${n.download_url}">原始地址</a>\n                          </td>\n\t\t\t\t\t\t  <td>\n                            <a href="${n.html_url}">Github地址</a>\n                          </td>\n                        </tr>\n                `)}))}))}));