var $grid=$(".grid").masonry({itemSelector:".masonry__item"});$grid.imagesLoaded().progress((function(){$grid.masonry()})).done((function(){$(".loader").addClass("is-loaded")}));var classes=["top","middle","bottom"];function listLayout(e){var a=new TimelineMax({paused:!0}),t=new TimelineMax,s=new TimelineMax,o=new TimelineMax,i=parseInt($(e).css("top")),n=i+80,l=i+160;$(e).hasClass("top")&&t.to(e,1.05,{top:i,ease:Expo.easeInOut}),$(e).hasClass("middle")&&s.to(e,1.05,{top:n,ease:Expo.easeInOut}),$(e).hasClass("bottom")&&o.to(e,1.05,{top:l,ease:Expo.easeInOut}),a.to($(e).find(".date"),.35,{autoAlpha:0,ease:Expo.easeInOut}).to($(e).find(".tags"),.35,{autoAlpha:0,ease:Expo.easeInOut},"-=0.35").to(e,.35,{height:80,ease:Expo.easeInOut}).add(t,-.35).add(s,-.35).add(o,-.35).to(e,.35,{width:"100%",left:0,ease:Expo.easeInOut}).to($(e).find(".date"),.35,{autoAlpha:1,ease:Expo.easeInOut}).to($(e).find(".tags"),.35,{y:-24,autoAlpha:1,ease:Expo.easeInOut},"-=0.35"),a.play()}function gridLayout(e){var a=new TimelineMax({paused:!0}),t=new TimelineMax,s=new TimelineMax,o=new TimelineMax,i=parseInt($(e).css("top")),n=i-80,l=i-160;$(e).hasClass("top")&&t.to(e,1.05,{left:0,ease:Expo.easeInOut}),$(e).hasClass("middle")&&s.to(e,1.05,{left:"33.3333%",ease:Expo.easeInOut}),$(e).hasClass("bottom")&&o.to(e,1.05,{left:"66.6666%",ease:Expo.easeInOut}),$(e).hasClass("top")&&t.to(e,.7,{top:i,ease:Expo.easeInOut}),$(e).hasClass("middle")&&s.to(e,.7,{top:n,ease:Expo.easeInOut}),$(e).hasClass("bottom")&&o.to(e,.7,{top:l,ease:Expo.easeInOut}),a.to($(e).find(".date"),.35,{autoAlpha:0,ease:Expo.easeInOut}).to($(e).find(".tags"),.35,{autoAlpha:0,ease:Expo.easeInOut},"-=0.35").to(e,.7,{width:"33.3333%",ease:Expo.easeInOut}).add(t,-.35).add(s,-.35).add(o,-.35).to(e,.35,{height:240,ease:Expo.easeInOut},"-=0.5").to($(e).find(".date"),.35,{autoAlpha:1,ease:Expo.easeInOut}).to($(e).find(".tags"),.35,{y:0,autoAlpha:1,ease:Expo.easeInOut},"-=0.35"),a.play()}$(".masonry__item").each((function(e,a){$(this).addClass(classes[e%3])})),$(".list-layout").on("click",(function(){$(".grid-layout").stop(!0,!0).removeClass("active",0),$(this).stop(!0,!0).addClass("active",0),$(".masonry__item").each((function(e,a){listLayout(this)}))})),$(".grid-layout").on("click",(function(){$(".list-layout").stop(!0,!0).removeClass("active",0),$(this).stop(!0,!0).addClass("active",0),$(".masonry__item").each((function(e,a){gridLayout(this)}))})),$(".tags").each((function(e,a){$(this).find("a:eq(0)").addClass("active"),$(this).find("a:eq(1)").addClass("active")})),$(".more").on("click",(function(){$(this);var e=$(this).closest(".tags");$(e).find("a").each((function(e,a){$(this).addClass("active")}))})),$(".more").on("click",(function(){if(1==$(this).attr("data-click-state")){$(this).attr("data-click-state",0),$(this).text("-");var e=$(this).closest(".tags");$(e).find("a").each((function(e,a){$(this).addClass("active")}))}else{$(this).attr("data-click-state",1),$(this).text("+");e=$(this).closest(".tags");$(e).find("a").each((function(e,a){e>1&&$(this).removeClass("active")}))}})),$((function(){var e=$(window);e.on("mousewheel DOMMouseScroll touchmove",(function(a){a.preventDefault();var t=a.originalEvent.wheelDelta/120||-a.originalEvent.detail/3,s=e.scrollTop()-parseInt(240*t);TweenMax.to(e,.8,{scrollTo:{y:s,autoKill:!0},ease:Power4.easeOut,autoKill:!0,overwrite:5})}))}));