const hpp_CDNver="f780aa3",hpp_ver="HexoPlusPlus@1.0.5",dev_mode_branch="dist";let hpp_logstatus=0;function getJsonLength(t){var n=0;for(var e in t)n++;return n}function getCookie(t,n){let e="";const s=t.headers.get("Cookie");if(s){s.split(";").forEach((t=>{const s=t.split("=",2);if(s[0].trim()===n){const t=s[1];e=t}}))}return e}async function handleRequest(t){const n=t.url,e=new URL(n),s=e.href.substr(e.origin.length),a=n.split("/")[2],i=hpp_username.split(","),r=hpp_password.split(",");console.log(hpp_logstatus);for(var c=0;c<getJsonLength(i);c++)getCookie(t,"password")==md5(r[c])&&getCookie(t,"username")==md5(i[c])&&(hpp_logstatus=1);if(s.startsWith("/hpp/admin")){if(1!=hpp_logstatus){if("/hpp/admin/login"==s){return new Response('\n<!DOCTYPE html>\n<html lang="zh-cmn-Hans">\n <head>\n  <meta charset="utf-8" />\n  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" />\n  <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1"><\/script>\n  <title>后台</title>\n  <style>\n  .rv-root{\n      z-index:999;\n  }\n  a:link { text-decoration: none;color: white}\n　　 a:active { text-decoration:blink}\n　　 a:hover { text-decoration:underline;color: white} \n　　 a:visited { text-decoration: none;color: white}\n  </style>\n  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@f780aa3/dist/login.css" /> \n </head>\n <body>\n  <div id="all">\n   <div class="wrapper">\n    <div class="bg-container">\n     <div class="container">\n      <h1 style="margin: 0;" id="bar">Welcome</h1>\n      <form class="form" id="fm">\n       <input id="username" type="text" placeholder="用户名" value="" name="username" />\n       <input id="password" type="password" placeholder="密码" value="" name="password" />\n       <button type="button" id="login-button">登录</button>\n       <br />\n       <br />\n       <a href="https://github.com/HexoPlusPlus/HexoPlusPlus" id="tips" style="color: #fff;">@HexoPP</a>\n      </form>\n     </div>\n    </div>\n    <ul class="bg-bubbles">\n     <li></li>\n     <li></li>\n     <li></li>\n     <li></li>\n     <li></li>\n     <li></li>\n     <li></li>\n     <li></li>\n     <li></li>\n     <li></li>\n    </ul>\n   </div>\n  </div>\n  <script src="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@f780aa3/dist/md5.js"><\/script>\n  <script src="https://cdn.jsdelivr.net/gh/zpfz/RVerify.js/dist/RVerify.min.js"><\/script>\n<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zpfz/RVerify.js/dist/RVerify.min.css"/>\n  <script>\n  RVerify.configure({\n  mask: 0.5,\n  maskClosable: true,\n  title: \'人机验证\',\n  album: [\'/hpp/api/captchaimg\']\n})\n  $("#login-button").click(function(event) {\nRVerify.action(function(res){\nif(res==1){\n    document.cookie = "username=" + md5(document.getElementById("username").value);\n    document.cookie = "password=" + md5(document.getElementById("password").value);\n    window.location.href = \'/hpp/admin/dash/home\';\n}\n});\n\n});\n  <\/script>\n  </body>\n</html>\n',{headers:{"content-type":"text/html;charset=UTF-8"}})}return Response.redirect("https://"+a+"/hpp/admin/login",302)}{const n=await KVNAME.get("hpp_config");if(null===n){if("/hpp/admin/api/upconfig"==s){const n=JSON.stringify(await t.text());return await KVNAME.put("hpp_config",n),new Response("OK")}return new Response(`<!doctype html>\n<html lang="zh">\n<head>\n\t<meta charset="UTF-8">\n\t<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> \n\t<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;" name="viewport" />\n\t<title>${hpp_ver}安装</title>\n\t<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@f780aa3/dist/install.css">\n</head>\n<body>\n\t\t<div class="cont_principal">\n\t\t\t\n\t\t  <div class="cont_join  ">\n\t\t    <div class="cont_letras">\n\t\t      <p>Hexo</p>\n\t\t      <p>Plus</p>\n\t\t      <p>plus</p>\n\t\t    </div>\n\n\t\t    <div class="cont_form_join" style="overflow-x: auto;">\n\t\t      <h2>安装信息</h2>\n\t\t\t  <h3 style="color:#fff">基本信息</h3>\n\t\t      <p>域名:</p>    \n\t\t      <input type="text" class="input_text" id="hpp_domain" placeholder="xxx.xxx.com"/>\n\t\t      <p>头像地址:</p>    \n\t\t      <input type="text" class="input_text" id="hpp_userimage" placeholder="https://cdn.jsdelivr.net/gh/ChenYFan/CDN/img/avatar.png"/>\n\t\t      <p>标题:</p>    \n\t\t      <input type="text" class="input_text" id="hpp_title" placeholder="XXX的后台"/>\n\t\t      <p>icon地址:</p>    \n\t\t      <input type="text" class="input_text" id="hpp_usericon" placeholder="https://cdn.jsdelivr.net/gh/ChenYFan/chenyfan.github.io/favicon.ico"/>\n\t\t      <p>跨域请求:</p>    \n\t\t\t  <input type="text" class="input_text" id="hpp_cors" placeholder="*"/>\n\t\t\t  <h3 style="color:#fff">面板配置</h3>\n\t\t\t  <p>OwOJSON地址:</p>    \n              <input type="text" class="input_text" id="hpp_OwO" placeholder="https://cdn.jsdelivr.net/gh/ChenYFan/CDN@ca3ea6c/assets/list.json" />\n\t\t\t  <p>面板背景图片:</p>    \n              <input type="text" class="input_text" id="hpp_back" placeholder="https://cdn.jsdelivr.net/gh/ChenYFan-Tester/DailyGet@gh-pages/bingpic/bing.jpg" />\n\t\t\t  <h3 style="color:#fff">Github信息</h3>\n\t\t      <p>Github文档仓库Token:</p>    \n\t\t      <input type="text" class="input_text" id="hpp_githubdoctoken" placeholder="*********"/>\n\t\t\t  <p>Github图片仓库Token:</p>    \n\t\t      <input type="text" class="input_text" id="hpp_githubimagetoken" placeholder="*********"/>\n\t\t\t  <p>Github文档仓库用户名:</p>    \n\t\t      <input type="text" class="input_text" id="hpp_githubdocusername" placeholder="XXX" />\n\t\t\t  <p>Github图片仓库用户名:</p>    \n\t\t      <input type="text" class="input_text" id="hpp_githubimageusername" placeholder="XXX" />\n\t\t\t  <p>Github文档仓库名:</p>    \n\t\t      <input type="text" class="input_text" id="hpp_githubdocrepo" placeholder="blog" />\n\t\t\t  <p>Github图片仓库名:</p>    \n\t\t      <input type="text" class="input_text" id="hpp_githubimagerepo" placeholder="image" />\n\t\t\t  <p>Github文档仓库路径:</p>    \n\t\t      <input type="text" class="input_text" id="hpp_githubdocpath" placeholder="/source/_posts/" />\n\t\t\t  <p>Github图片仓库路径:</p>    \n\t\t      <input type="text" class="input_text" id="hpp_githubimagepath" placeholder="/" />\n\t\t\t  <p>Github文档仓库分支:</p>    \n\t\t      <input type="text" class="input_text" id="hpp_githubdocbranch" placeholder="master" />\n\t\t\t  <p>Github图片仓库分支:</p>    \n\t\t      <input type="text" class="input_text" id="hpp_githubimagebranch" placeholder="main" />\n\t\t\t  <h3 style="color:#fff">附加功能</h3>\n\t\t\t  <p>是否自动签到【是为True，否为False】:</p>    \n\t\t      <input type="text" class="input_text" id="hpp_autodate" placeholder="False" />\n              <h3 style="color:#fff">CloudFlare访问功能</h3>\n\t\t\t  <p>Global API Key:</p>    \n\t\t      <input type="text" class="input_text" id="hpp_CF_Auth_Key" placeholder="***" />\n              <p>目标Workers名称:</p>    \n\t\t      <input type="text" class="input_text" id="hpp_script_name" placeholder="HexoPlusPlus" />\n              <p>Workers账户ID:</p>    \n\t\t      <input type="text" class="input_text" id="hpp_account_identifier" placeholder="***" />\n              <p>账户登录邮箱:</p>    \n\t\t      <input type="text" class="input_text" id="hpp_Auth_Email" placeholder="ABC@DEF.com" />\n              <h3 style="color:#fff">Twikoo加强</h3>\n              <p>Twikoo环境ID:</p>    \n              <input type="text" class="input_text" id="hpp_twikoo_envId" placeholder="xxx" />\n\t\t\t  \n\t\t    </div>\n\t\t  \n\t\t    <div class="cont_join_form_finish" style="display:none">\n\t\t      <h2>完成</h2>  \n\t\t    </div>\n\n\t\t    <div class="cont_btn_join">\n\t\t      <a href="#" onclick='start()' id="butttt">开始配置</a>\n\t\t    </div>\n\t\t  </div>\n\t\t</div>\n\t</div>\n\t\n\t<script src="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@f780aa3/dist/install.js"><\/script>\n</body>\n</html>`,{headers:{"content-type":"text/html;charset=UTF-8"}})}{const e=JSON.parse(JSON.parse(n)),a=(e.hpp_domain,e.hpp_userimage),r=e.hpp_title,p=e.hpp_usericon,l=e.hpp_cors,d=e.hpp_githubdoctoken,o=e.hpp_githubimagetoken,h=e.hpp_githubdocusername,u=e.hpp_githubdocrepo,v=e.hpp_githubdocpath,m=e.hpp_githubdocbranch,g=e.hpp_githubimageusername,f=e.hpp_githubimagerepo,y=e.hpp_githubimagepath,b=e.hpp_githubimagebranch,_=e.hpp_autodate,w=e.hpp_account_identifier,x=e.hpp_script_name,j=e.hpp_CF_Auth_Key,k=e.hpp_Auth_Email,P=(e["hpp_twikoo-envId"],e.hpp_OwO),$=e.hpp_back;if("True"==_){const t=Date.now(new Date);await KVNAME.put("hpp_activetime",t);Date.now(new Date)}const O={method:"GET",headers:{"content-type":"application/json;charset=UTF-8","user-agent":hpp_ver,Authorization:"token "+o}},N={method:"GET",headers:{"content-type":"application/json;charset=UTF-8","user-agent":hpp_ver,Authorization:"token "+d}};if(s.startsWith("/hpp/admin/dash")){let t="",n="",e="",c="",l="",d="",o="",_='<div class="content"><div class="container-fluid"><div class="row"><div class="col-md-12"><div class="card"><div class="card-header card-header-primary"><h4 class="card-title">404</h4><p class="card-category">我们不知道您的需求</p></div></br><div class="card-body"><a href="/hpp/admin/dash/home">回到主页</a></div></div></div></div></div></div>';"/hpp/admin/dash/home"==s&&(t=" active",_=`<div class="content">\n        <div class="container-fluid">\n          <div class="row">\n            <div class="col-lg-6 col-md-6 col-sm-6">\n              <div class="card card-stats">\n                <div class="card-header card-header-warning card-header-icon">\n                  <div class="card-icon">\n                    <i class="fa fa-file"></i>\n                  </div>\n                  <p class="card-category">总文档数</p>\n                  <h3 class="card-title" id="document_all">NaN\n                    <small>个</small>\n                  </h3>\n                </div>\n                <div class="card-footer">\n\t\t\t\t<div class="stats">\n                    <a href="/hpp/admin/dash/edit"><i class="fa fa-pencil"></i>前往管理</a>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="col-lg-6 col-md-6 col-sm-6">\n              <div class="card card-stats">\n                <div class="card-header card-header-success card-header-icon">\n                  <div class="card-icon">\n                    <i class="fa fa-image"></i>\n                  </div>\n                  <p class="card-category">总图片数</p>\n                  <h3 class="card-title" id="img_all">NaN\n                    <small>张</small>\n                  </h3>\n                </div>\n                <div class="card-footer">\n\t\t\t\t<div class="stats">\n                    <a href="/hpp/admin/dash/img_man"><i class="fa fa-upload"></i>前往管理</a>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="col-lg-6 col-md- col-sm-6">\n              <a href="javascript:jQuery.getScript('/hpp/admin/api/checkupdate');">\n              <div class="card card-stats">\n                <div class="card-header card-header-info card-header-icon">\n                  <div class="card-icon">\n                    <i class="fa fa-upload"></i>\n                  </div>\n                  <p class="card-category">当前版本</p>\n                  <h3 class="card-title">${hpp_ver}</h3>\n                </div>\n                <div class="card-footer">\n                  <div class="stats">\n                    <i class="material-icons">update</i>点击更新\n                  </div>\n                </div>\n              </div>\n            </a>\n            </div>\n            \n            <div class="col-lg-6 col-md-6 col-sm-6">\n              <a href="javascript:hpp_del_all()">\n              <div class="card card-stats">\n                <div class="card-header card-header-danger card-header-icon">\n                  <div class="card-icon">\n                    <i class="fa fa-close"></i>\n                  </div>\n                  <h3 class="card-title">销毁配置</h3>\n                </div>\n                <div class="card-footer">\n                  <div class="stats">\n                    <i class="material-icons text-danger">warning</i>高危操作\n                  </div>\n                </div>\n              </div>\n            </a>\n            </div>\n\t\t\t\n\t\t\t<div class="col-lg-6 col-md-6 col-sm-6">\n              <a href="javascript:hpp_artitalk_into_hpptalk()">\n              <div class="card card-stats">\n                <div class="card-header card-header-primary card-header-icon">\n                  <div class="card-icon">\n                    <i class="fa fa-download"></i>\n                  </div>\n                  <h3 class="card-title">从Artitalk中导入</h3>\n                </div>\n                <div class="card-footer">\n                </div>\n              </div>\n            </a>\n            </div>\n\t\t\t\n\t\t\t<div class="col-lg-6 col-md-6 col-sm-6">\n              <a href="https://jq.qq.com/?_wv=1027&k=rAcnhzqK" target="_blank">\n              <div class="card card-stats">\n                <div class="card-header card-header-normal card-header-icon">\n                  <div class="card-icon">\n                    <i class="fa fa-qq"></i>\n                  </div>\n                  <h3 class="card-title">QQ群聊天去？</h3>\n                </div>\n                <div class="card-footer">\n                </div>\n              </div>\n            </a>\n            </div>\n\t\t\t\n\t\t\t<div class="col-lg-6 col-md-6 col-sm-6">\n              <a href="https://hexoplusplus.js.org" target="_blank">\n              <div class="card card-stats">\n                <div class="card-header card-header-normal card-header-icon">\n                  <div class="card-icon">\n                    <i class="fa fa-book"></i>\n                  </div>\n                  <h3 class="card-title">文档地址</h3>\n                </div>\n                <div class="card-footer">\n                </div>\n              </div>\n            </a>\n            </div>\n\t\t\t\n          </div>\n        </div>\n      </div>`,o="<script src='https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@f780aa3/dist/home.js'><\/script>"),"/hpp/admin/dash/edit"==s&&(n=" active",_='<div class="content">\n        <div class="container-fluid">\n          <div class="row">\n            <div class="col-md-12">\n              <div class="card">\n                <div class="card-header card-header-primary">\n                  <h4 class="card-title">书写</h4>\n                  <p class="card-category">Wrtie</p>\n                </div>\n              </br>\n                <div class="card-body">\n                          <div class="col-md-8">\n                              <label class="bmd-label-floating">文件选择</label>\n                              <select id="choo" class="form-control form-control-chosen" style="display: inline;"></select>\n\t\t\t\t\t\t\t  <button type="submit" class="btn btn-success" onclick="javascript:hpp_get_md()">获取</button>\n                          </div>\n                        \n                        <div class="row">\n                          <div class="col-md-12">\n                            <div class="form-group">\n                              <label>内容</label>\n                              <div class="form-group"id="md-editor">\n                                <textarea id="doc_editor" type="text" name="type"></textarea>\n\t\t\t\t\t\t\t\t\n                              </div><div class="OwO"></div>\n                            </div>\n                          </div>\n                        </div>\n                        <button type="submit" class="btn btn-primary pull-right" onclick="javascript:hpp_upload_md()">Upload</button>\n                        <div class="clearfix"></div>\n\t\t\t\t\t\t<form id="upform" enctype=\'multipart/form-data\' style="display:none;">\n    <div class="form-group">\n        <label for="upteainput">上传文件</label>\n        <input type="file" id="input">\n    </div>\n</form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>',o='<script src="https://cdn.jsdelivr.net/gh/indrimuska/jquery-editable-select/dist/jquery-editable-select.min.js"><\/script>\n<script src="https://cdn.jsdelivr.net/npm/editor.md/editormd.min.js"><\/script><script src=\'https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@f780aa3/dist/edit.js\'><\/script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery-lazy@1.7.11/jquery.lazy.min.js"><\/script>\n<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery-lazy@1.7.11/jquery.lazy.plugins.min.js"><\/script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/DIYgod/OwO@master/dist/OwO.min.css">'),"/hpp/admin/dash/talk"==s&&(e=" active",_='<div class="content">\n        <div class="container-fluid">\n          <div class="row">\n            <div class="col-md-12">\n              <div class="card">\n                <div class="card-header card-header-primary">\n                  <h4 class="card-title">说说</h4>\n                  <p class="card-category">Talk</p>\n                </div>\n              </br>\n                <div class="card-body">\n                          \n                        \n                        <div class="row">\n                          <div class="col-md-12">\n                            <div class="form-group">\n                              <label>书写</label>\n                              <div class="form-group"id="md-editor">\n                                <textarea id="doc_editor" type="text" name="type"></textarea>\n                              </div><div class="OwO"></div>\n                            </div>\n                          </div>\n                        </div>\n                        <button type="submit" class="btn btn-primary pull-right" onclick="javascript:hpp_upload_md()">Upload</button>\n                        <div class="clearfix"></div>\n\t\t\t\t\t\t<form id="upform" enctype=\'multipart/form-data\' style="display:none;">\n    <div class="form-group">\n        <label for="upteainput">上传文件</label>\n        <input type="file" id="input">\n    </div>\n</form><div id="hpp_talk"></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>',o='<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@f780aa3/dist/talk.css" /><script src="https://cdn.jsdelivr.net/npm/editor.md/editormd.min.js"><\/script><script src=\'https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@f780aa3/dist/talk.js\'><\/script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery-lazy@1.7.11/jquery.lazy.min.js"><\/script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery-lazy@1.7.11/jquery.lazy.plugins.min.js"><\/script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/DIYgod/OwO@master/dist/OwO.min.css">'),"/hpp/admin/dash/docs_man"==s&&(c=" active",_='\n<div class="content">\n        <div class="container-fluid">\n          <div class="row">\n            <div class="col-md-12">\n              <div class="card">\n                <div class="card-header card-header-primary">\n                  <h4 class="card-title ">文章列表</h4>\n                  <p class="card-category">这里列出了你所有文章</p>\n                </div>\n                <div class="card-body">\n                  <div class="table-responsive">\n                    <table class="table">\n                      <thead class=" text-primary">\n                        <th>\n                          名称\n                        </th>\n                        <th>\n                          大小\n                        </th>\n                        <th></th>\n                        <th></th><th></th><th></th>\n                      </thead>\n                      <tbody id="tbody_doc">\n\t\t\t\t\t\t\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>',o="<script src='https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@f780aa3/dist/doc_man.js'><\/script>"),"/hpp/admin/dash/img_man"==s&&(l=" active",_='<div class="content">\n        <div class="container-fluid">\n          <div class="row">\n            <div class="col-md-12">\n              <div class="card">\n                <div class="card-header card-header-primary">\n                  <h4 class="card-title ">图片列表</h4>\n                  <p class="card-category">这里列出了你所有图片</p>\n                </div>\n                <div class="card-body">\n                  <div class="table-responsive">\n                    <table class="table">\n                      <thead class=" text-primary">\n                        <th>\n                          名称\n                        </th>\n                        <th>\n                          大小\n                        </th><th>预览</th>\n                        <th></th>\n                        <th></th><th></th><th></th>\n                      </thead>\n                      <tbody id="tbody_img">\n\t\t\t\t\t\t\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>',o='<script src=\'https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@f780aa3/dist/img_man.js\'><\/script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery-lazy@1.7.11/jquery.lazy.min.js"><\/script>\n<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery-lazy@1.7.11/jquery.lazy.plugins.min.js"><\/script>'),"/hpp/admin/dash/set"==s&&(d=" active",_='<div class="content">\n        <div class="container-fluid">\n          <div class="row">\n            <div class="col-md-12">\n              <div class="card">\n                <div class="card-header card-header-primary">\n                  <h4 class="card-title ">配置</h4>\n                  <p class="card-category">请根据需要修改配置</p>\n                </div>\n                <div class="card-body">\n                  <div class="table-responsive">\n                    <table class="table">\n                      <thead class=" text-primary">\n                        <th>\n                          键值\n                        </th>\n                        <th>\n                          内容\n                        </th><th>操作</th>\n                      </thead>\n                      <tbody id="tbody_config">\n\t\t\t\t\t\t\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>',o="<script src='https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@f780aa3/dist/config.js'><\/script>");let w=`<!DOCTYPE html>\n<html lang="en">\n\n<head>\n  <meta charset="utf-8" />\n  <link rel="apple-touch-icon" sizes="76x76" href="${p}">\n  <link rel="icon" type="image/png" href="${p}">\n  <title>${r}</title>\n  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;" name="viewport" />\n  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@f780aa3/dist/font.css" />\n  <link href="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@f780aa3/dist/admin_all.css" rel="stylesheet" />\n  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/editor.md/css/editormd.css" />\n  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/indrimuska/jquery-editable-select/dist/jquery-editable-select.min.css">\n  <script>\n  //这个脚本的用途是前端变量传递\n  const hpp_ver="${hpp_ver}";\n  const hpp_OwO="${P}";\n  const avatar="${a}";\n  const username="${i[0]}";\n  const hpp_githubdocusername = "${h}"\n  const hpp_githubdocrepo ="${u}"\n  const hpp_githubdocbranch ="${m}"\n  const hpp_githubdocpath ="${v}"\n  const hpp_githubimageusername = "${g}"\n  const hpp_githubimagerepo ="${f}"\n  const hpp_githubimagebranch ="${b}"\n  const hpp_githubimagepath ="${y}"\n  <\/script>\n</head>\n<body class="">\n  <div class="wrapper ">\n    <div class="sidebar" data-color="purple" data-background-color="white" data-image="${$}">\n      <div class="logo"><a class="simple-text logo-normal">${r}</a></div>\n      <div class="sidebar-wrapper">\n        <ul class="nav">\n          <li class="nav-item${t}">\n            <a class="nav-link" href="/hpp/admin/dash/home">\n              <i class="material-icons">dashboard</i>\n              <p>主页</p>\n            </a>\n          </li>\n          <li class="nav-item${n}">\n            <a class="nav-link" href="/hpp/admin/dash/edit">\n              <i class="material-icons">create</i>\n              <p>书写</p>\n            </a>\n          </li>\n          <li class="nav-item${e}">\n            <a class="nav-link" href="/hpp/admin/dash/talk">\n              <i class="material-icons">chat</i>\n              <p>说说</p>\n            </a>\n          </li>\n          <li class="nav-item${c}">\n            <a class="nav-link" href="/hpp/admin/dash/docs_man">\n              <i class="material-icons">descriptionoutlined</i>\n              <p>文档管理</p>\n            </a>\n          </li>\n\t\t  <li class="nav-item${l}">\n            <a class="nav-link" href="/hpp/admin/dash/img_man">\n              <i class="material-icons">imagerounded</i>\n              <p>图片管理</p>\n            </a>\n          </li>\n\t\t  <li class="nav-item${d}">\n            <a class="nav-link" href="/hpp/admin/dash/set">\n              <i class="material-icons">settings</i>\n              <p>设置</p>\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n    <div class="main-panel">\n      \x3c!-- Navbar --\x3e\n      <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top ">\n        <div class="container-fluid">\n          <div class="navbar-wrapper">\n            <a class="navbar-brand" href="javascript:;">HexoPlusPlus后台</a>\n          </div>\n          <button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">\n            <span class="sr-only">Toggle navigation</span>\n            <span class="navbar-toggler-icon icon-bar"></span>\n            <span class="navbar-toggler-icon icon-bar"></span>\n            <span class="navbar-toggler-icon icon-bar"></span>\n          </button>\n          <div class="collapse navbar-collapse justify-content-end">\n            <ul class="navbar-nav">\n              <li class="nav-item dropdown">\n                <a class="nav-link" href="javascript:;" id="navbarDropdownProfile" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                  <img src="${a}" style="width: 30px;border-radius: 50%;border: 0;">\n                  <p class="d-lg-none d-md-block">\n                    Account\n                  </p>\n                </a>\n                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownProfile">\n                  <a class="dropdown-item" href="javascript:kick()">签到</a>\n                  <div class="dropdown-divider"></div>\n                  <a class="dropdown-item" href="javascript:hpp_logout()">退出</a>\n                </div>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </nav>\n      \x3c!-- End Navbar --\x3e \n\n\x3c!--innerHTMLSTART--\x3e`;return new Response(`${w}${_}${`\n\t\t\t\t\t\x3c!--innerHTMLEND--\x3e\n</div>\n</div>\n\x3c!--\n\n<script src="/static/js/jquery.min.js"><\/script>\n<script src="/static/js/popper.min.js"><\/script>\n<script src="/static/js/bootstrap-material-design.min.js"><\/script>\n<script src="/static/js/plugins/perfect-scrollbar.jquery.min.js"><\/script>\n<script src="/static/js/plugins/moment.min.js"><\/script>\n<script src="https://cdn.jsdelivr.net/npm/sweetalert/dist/sweetalert.min.js"><\/script>\n<script src="/static/js/plugins/jquery.validate.min.js"><\/script>\n<script src="/static/js/plugins/jquery.bootstrap-wizard.js"><\/script>\n<script src="/static/js/plugins/bootstrap-selectpicker.js"><\/script>\n<script src="/static/js/plugins/bootstrap-datetimepicker.min.js"><\/script>\n<script src="/static/js/plugins/jquery.dataTables.min.js"><\/script>\n<script src="/static/js/plugins/bootstrap-tagsinput.js"><\/script>\n<script src="/static/js/plugins/jasny-bootstrap.min.js"><\/script>\n<script src="/static/js/plugins/fullcalendar.min.js"><\/script>\n<script src="/static/js/plugins/jquery-jvectormap.js"><\/script>\n<script src="/static/js/plugins/nouislider.min.js"><\/script>\n<script src="/static/js/plugins/arrive.min.js"><\/script>\n<script src="/static/js/plugins/chartist.min.js"><\/script>\n<script src="/static/js/plugins/bootstrap-notify.js"><\/script>\n<script src="/static/js/material-dashboard.js?v=2.1.2" type="text/javascript"><\/script>\n<script src="/static/js/main.js"><\/script>我不知道原模板这么多js干什么，我只需要底下几个--\x3e\n<script src="https://cdn.jsdelivr.net/npm/jquery@2.2.4"><\/script>\n<script src="https://cdn.jsdelivr.net/npm/sweetalert/dist/sweetalert.min.js"><\/script>\n<script src="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@f780aa3/dist/admin_all.js"><\/script>\n${o}\n\n</body>\n\n</html>`}`,{headers:{"content-type":"text/html;charset=UTF-8"}})}if(s.startsWith("/hpp/admin/api/adddoc/")){const n=await t.text(),e=`https://api.github.com/repos/${h}/${u}/contents${v}${s.substr("/hpp/admin/api/adddoc/".length)}?ref=${m}`,a=JSON.parse(await(await fetch(e,N)).text()).sha,i={branch:m,message:`Upload from ${hpp_ver} By ${h}`,content:n,sha:a},r={body:JSON.stringify(i),method:"PUT",headers:{"content-type":"application/json;charset=UTF-8","user-agent":hpp_ver,Authorization:"token "+d}},c=await fetch(e,r),p=await c.status;return 200==p||201==p?new Response("Update Success",{status:p}):new Response("Fail To Update",{status:p})}if(s.startsWith("/hpp/admin/api/addimage")){const n=await t.text(),e=Date.parse(new Date),a=s.substr("/hpp/admin/api/addimage/".length),i=`https://api.github.com/repos/${g}/${f}/contents${y}${e}.${a}`,r={branch:b,message:`Upload from ${hpp_ver} By ${g}`,content:n},c={body:JSON.stringify(r),method:"PUT",headers:{"content-type":"application/json;charset=UTF-8","user-agent":hpp_ver,Authorization:"token "+o}},p=await fetch(i,c),l=await p.status;return 200==l||201==l?new Response(`https://cdn.jsdelivr.net/gh/${g}/${f}@${b}${y}${e}.${a}`,{status:l}):new Response("Fail To Upload Image",{status:l})}if(s.startsWith("/hpp/admin/api/deldoc")){const t=`https://api.github.com/repos/${h}/${u}/contents${v}${s.substr("/hpp/admin/api/deldoc/".length)}?ref=${m}`,n=JSON.parse(await(await fetch(t,N)).text()).sha,e={branch:m,message:`Delete from ${hpp_ver} By ${h}`,sha:n},a={body:JSON.stringify(e),method:"DELETE",headers:{"content-type":"application/json;charset=UTF-8","user-agent":hpp_ver,Authorization:"token "+d}},i=await fetch(t,a),r=await i.status;return 200==r?new Response("Delete Success",{status:r}):new Response("Fail To Delete doc",{status:r})}if(s.startsWith("/hpp/admin/api/delimage")){const t=`https://api.github.com/repos/${g}/${f}/contents${y.substr(0,y.length-1)}?ref=${b}`,n=s.substr("/hpp/admin/api/delimage/".length),e=`https://api.github.com/repos/${g}/${f}/contents${y}${n}?ref=${b}`,a=JSON.parse(await(await fetch(t,O)).text());console.log(a);let i="";for(c=0;c<getJsonLength(a);c++)if(a[c].name==n){i=a[c].sha;break}console.log(i);const r={branch:b,message:`Delete from ${hpp_ver} By ${h}`,sha:i},p={body:JSON.stringify(r),method:"DELETE",headers:{"content-type":"application/json;charset=UTF-8","user-agent":hpp_ver,Authorization:"token "+o}},l=await fetch(e,p),d=await l.status;return 200==d?new Response("Delete Success",{status:d}):new Response("Fail To Delete Image",{status:d})}if(s.startsWith("/hpp/admin/api/getdoc")){const t=s.substr("/hpp/admin/api/getdoc/".length);return fetch(`https://raw.githubusercontent.com/${h}/${u}/${m}${v}${t}?ref=${m}`,N)}if("/hpp/admin/api/getlist"==s){const t=`https://api.github.com/repos/${h}/${u}/contents${v.substr(0,v.length-1)}?ref=${m}`,n=await fetch(t,N);return new Response(await n.text(),{headers:{"content-type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":l}})}if("/hpp/admin/api/getimglist"==s){const t=`https://api.github.com/repos/${g}/${f}/contents${y.substr(0,y.length-1)}?ref=${b}`,n=await fetch(t,O);return new Response(await n.text(),{headers:{"content-type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":l}})}if("/hpp/admin/api/addtalk"==s){let n=await KVNAME.get("hpp_talk_data");null===n&&(n="[]");let e=await JSON.parse(n),s=await KVNAME.get("hpp_talk_id");null===s&&(s=0);let a=s;a++;const i=await t.json(),r={id:a,time:i.time,name:i.name,avatar:i.avatar,content:i.content};return e.push(r),await KVNAME.put("hpp_talk_data",JSON.stringify(e)),await KVNAME.put("hpp_talk_id",a),new Response("OK")}if("/hpp/admin/api/deltalk"==s){const n=JSON.parse(await KVNAME.get("hpp_talk_data")),e=Number(await t.text());for(c=0;c<getJsonLength(n);c++)Number(n[c].id)==e&&n.splice(c,1);return await KVNAME.put("hpp_talk_data",JSON.stringify(n)),new Response("OK")}if("/hpp/admin/api/update"==s){const t={body:await(await fetch("https://raw.githubusercontent.com/HexoPlusPlus/HexoPlusPlus/main/dist/index.js")).text(),method:"PUT",headers:{"content-type":"application/javascript","X-Auth-Key":j,"X-Auth-Email":k}},n=await(await fetch(`https://api.cloudflare.com/client/v4/accounts/${w}/workers/scripts/${x}`,t)).text();return new Response(JSON.parse(n).success)}if("/hpp/admin/api/inputtalk"==s){let n=await KVNAME.get("hpp_talk_data");null===n&&(n="[]");let e=await JSON.parse(n),s=await KVNAME.get("hpp_talk_id");null===s&&(s=0);let a=s,r=await JSON.parse(await t.text()),p={};for(c=0;c<r.length;c++)a++,ftime=r[c].updatedAt,ftime=ftime.split("T"),p={id:a,time:ftime[0],name:i[0],avatar:r[c].avatar,content:r[c].atContentHtml},e.push(p);return await KVNAME.put("hpp_talk_data",JSON.stringify(e)),await KVNAME.put("hpp_talk_id",a),new Response(JSON.stringify(e))}if(s.startsWith("/hpp/admin/api/checkupdate")){const t=await(await fetch("https://raw.githubusercontent.com/HexoPlusPlus/HexoPlusPlus/main/update.js")).text();return new Response(t,{headers:{headers:"content-type: application/javascript; charset=utf-8"}})}if("/hpp/admin/api/del_all"==s)return await KVNAME.delete("hpp_config"),new Response("OK");if("/hpp/admin/api/get_config"==s)return new Response(await JSON.parse(n));if("/hpp/admin/api/edit_config"==s){let e=await JSON.parse(await t.text()),s=e.index,a=e.value,i=await JSON.parse(await JSON.parse(n));return i[s]=a,i=await JSON.stringify(i),await KVNAME.put("hpp_config",await JSON.stringify(i)),new Response("OK")}if("/hpp/admin/api/kick"==s){const t=Date.now(new Date);await KVNAME.put("hpp_activetime",t);Date.now(new Date);return new Response("OK")}}}return Response.redirect("https://"+a+"/hpp/admin/dash",302)}if(s.startsWith("/hpp/api")){if("/hpp/api/getblogeractive"==s){const t=await KVNAME.get("hpp_activetime");var p=(Date.parse(new Date)-t)/1e3;return p<30?new Response("document.getElementById(\"bloggeractivetime\").innerHTML='博主刚刚还在这儿呢'",{headers:{headers:"content-type: application/javascript; charset=utf-8"}}):p<60?new Response('document.getElementById("bloggeractivetime").innerHTML=\'博主在'+p+"秒前离开这儿'",{headers:{headers:"content-type: application/javascript; charset=utf-8"}}):p<3600?new Response('document.getElementById("bloggeractivetime").innerHTML=\'博主在'+Math.round(p/60)+"分钟前偷偷瞄了一眼博客'",{headers:{headers:"content-type: application/javascript; charset=utf-8"}}):new Response('document.getElementById("bloggeractivetime").innerHTML=\'博主在'+Math.round(p/3600)+"小时前活跃了一次'",{headers:{headers:"content-type: application/javascript; charset=utf-8"}})}if("/hpp/api/captchaimg"==s){let t=new Request("https://thispersondoesnotexist.com/image");return fetch(t)}if("/hpp/api/twikoo"==s){const n=await JSON.parse(await JSON.parse(await KVNAME.get("hpp_config"))),e=n.hpp_twikoo_envId,s=(n.hpp_cors,"https://tcb-api.tencentcloudapi.com/web?env="+e);async function l(t,n,a){const i={event:"COMMENT_GET",url:n,before:a},r={access_token:t,action:"functions.invokeFunction",dataVersion:"1970-1-1",env:e,function_name:"twikoo",request_data:JSON.stringify(i),seqId:""},c={body:JSON.stringify(r),method:"POST",headers:{"content-type":"application/json;charset=UTF-8"}};return await(await fetch(s,c)).text()}const a=await JSON.parse(await t.text()),i=a.path,r=a.before;let c=await KVNAME.get("hpp_comment_refresh_token"),p=await KVNAME.get("hpp_comment_access_token"),d=await l(p,i,r),o=await JSON.parse(d).code;return"CHECK_LOGIN_FAILED"==o|"INVALID_PARAM"==o&&(c=await async function(){const t={action:"auth.signInAnonymously",anonymous_uuid:"",dataVersion:"1970-1-1",env:e,refresh_token:"",seqId:""},n={body:JSON.stringify(t),method:"POST",headers:{"content-type":"application/json;charset=UTF-8"}};return console.log(t),JSON.parse(await(await fetch(s,n)).text()).refresh_token}(),await KVNAME.put("hpp_comment_refresh_token",c),p=await async function(t){const n={action:"auth.fetchAccessTokenWithRefreshToken",anonymous_uuid:"",dataVersion:"1970-1-1",env:e,refresh_token:t,seqId:""},a={body:JSON.stringify(n),method:"POST",headers:{"content-type":"application/json;charset=UTF-8"}};return JSON.parse(await(await fetch(s,a)).text()).access_token}(c),await KVNAME.put("hpp_comment_access_token",p),d=await l(p,i,r)),new Response(d,{headers:{"Access-Control-Allow-Origin":"*"}})}if("/hpp/api/gethpptalk"==s){const n=await t.text();if(""!=n){const t=(await JSON.parse(n)).limit,e=(await JSON.parse(n)).start,s=await JSON.parse(await KVNAME.get("hpp_talk_data"));let a=[];for(c=getJsonLength(s)-e-1;c>getJsonLength(s)-e-t;c--)a.push(await JSON.stringify(s[c]));return new Response(JSON.stringify(a),{headers:{"content-type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}})}return new Response("ERROR",{headers:{"Access-Control-Allow-Origin":"*"}})}}if("/hpp/previewtalk"==s){return new Response('\n<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;" name="viewport" />\n<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@f780aa3/dist/talk.css" /> \n<script src="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@f780aa3/dist/talk_user.js"><\/script>\n<div id="hpp_talk"></div>\n<script>\nnew hpp_talk({\nid:"hpp_talk",\ndomain: window.location.host,\nlimit: 10,\nstart: 0\n})\n<\/script>\n',{headers:{"content-type":"text/html;charset=UTF-8"}})}return new Response('\n<!DOCTYPE html>\n<html lang="en" class="no-js">\n\t<head>\n        <meta charset="UTF-8" />\n        <meta http-equiv="X-UA-Compatible" content="IE=edge"> \n        <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;" name="viewport" /> \n        <title>HexoPlusPlusError</title>\n        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@f780aa3/dist/error.css" />\n\t</head>\n\t<body>\n\t\t<div class="container demo-2">\n\t\t\t<div class="content">\n                <div id="large-header" class="large-header">\n                    <canvas id="demo-canvas"></canvas>\n                    <h1 class="main-title"><span>Error</span></h1>\n                </div>\n                <div class="codrops-header">\n                    <h1>HexoPlusPlus <span>错误：不知道你的目的是什么</span></h1>\n                    <nav class="codrops-demos">\n                        <a class="current-demo" href="/hpp/admin/dash/home">仪表盘</a>\n                        <a class="current-demo" href="https://github.com/HexoPlusPlus/HexoPlusPlus">Github</a>\n                    </nav>\n                </div>\n            </div>\n\t\t</div>\n        <script src="https://cdn.jsdelivr.net/gh/HexoPlusPlus/HexoPlusPlus@f780aa3/dist/error.js"><\/script>\n\t</body>\n</html>\n',{headers:{"content-type":"text/html;charset=UTF-8"}})}addEventListener("fetch",(t=>{t.respondWith(handleRequest(t.request))})),function(t){"use strict";function n(t,n){var e=(65535&t)+(65535&n);return(t>>16)+(n>>16)+(e>>16)<<16|65535&e}function e(t,e,s,a,i,r){return n((c=n(n(e,t),n(a,r)))<<(p=i)|c>>>32-p,s);var c,p}function s(t,n,s,a,i,r,c){return e(n&s|~n&a,t,n,i,r,c)}function a(t,n,s,a,i,r,c){return e(n&a|s&~a,t,n,i,r,c)}function i(t,n,s,a,i,r,c){return e(n^s^a,t,n,i,r,c)}function r(t,n,s,a,i,r,c){return e(s^(n|~a),t,n,i,r,c)}function c(t,e){var c,p,l,d;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var o=1732584193,h=-271733879,u=-1732584194,v=271733878,m=0;m<t.length;m+=16)o=s(c=o,p=h,l=u,d=v,t[m],7,-680876936),v=s(v,o,h,u,t[m+1],12,-389564586),u=s(u,v,o,h,t[m+2],17,606105819),h=s(h,u,v,o,t[m+3],22,-1044525330),o=s(o,h,u,v,t[m+4],7,-176418897),v=s(v,o,h,u,t[m+5],12,1200080426),u=s(u,v,o,h,t[m+6],17,-1473231341),h=s(h,u,v,o,t[m+7],22,-45705983),o=s(o,h,u,v,t[m+8],7,1770035416),v=s(v,o,h,u,t[m+9],12,-1958414417),u=s(u,v,o,h,t[m+10],17,-42063),h=s(h,u,v,o,t[m+11],22,-1990404162),o=s(o,h,u,v,t[m+12],7,1804603682),v=s(v,o,h,u,t[m+13],12,-40341101),u=s(u,v,o,h,t[m+14],17,-1502002290),o=a(o,h=s(h,u,v,o,t[m+15],22,1236535329),u,v,t[m+1],5,-165796510),v=a(v,o,h,u,t[m+6],9,-1069501632),u=a(u,v,o,h,t[m+11],14,643717713),h=a(h,u,v,o,t[m],20,-373897302),o=a(o,h,u,v,t[m+5],5,-701558691),v=a(v,o,h,u,t[m+10],9,38016083),u=a(u,v,o,h,t[m+15],14,-660478335),h=a(h,u,v,o,t[m+4],20,-405537848),o=a(o,h,u,v,t[m+9],5,568446438),v=a(v,o,h,u,t[m+14],9,-1019803690),u=a(u,v,o,h,t[m+3],14,-187363961),h=a(h,u,v,o,t[m+8],20,1163531501),o=a(o,h,u,v,t[m+13],5,-1444681467),v=a(v,o,h,u,t[m+2],9,-51403784),u=a(u,v,o,h,t[m+7],14,1735328473),o=i(o,h=a(h,u,v,o,t[m+12],20,-1926607734),u,v,t[m+5],4,-378558),v=i(v,o,h,u,t[m+8],11,-2022574463),u=i(u,v,o,h,t[m+11],16,1839030562),h=i(h,u,v,o,t[m+14],23,-35309556),o=i(o,h,u,v,t[m+1],4,-1530992060),v=i(v,o,h,u,t[m+4],11,1272893353),u=i(u,v,o,h,t[m+7],16,-155497632),h=i(h,u,v,o,t[m+10],23,-1094730640),o=i(o,h,u,v,t[m+13],4,681279174),v=i(v,o,h,u,t[m],11,-358537222),u=i(u,v,o,h,t[m+3],16,-722521979),h=i(h,u,v,o,t[m+6],23,76029189),o=i(o,h,u,v,t[m+9],4,-640364487),v=i(v,o,h,u,t[m+12],11,-421815835),u=i(u,v,o,h,t[m+15],16,530742520),o=r(o,h=i(h,u,v,o,t[m+2],23,-995338651),u,v,t[m],6,-198630844),v=r(v,o,h,u,t[m+7],10,1126891415),u=r(u,v,o,h,t[m+14],15,-1416354905),h=r(h,u,v,o,t[m+5],21,-57434055),o=r(o,h,u,v,t[m+12],6,1700485571),v=r(v,o,h,u,t[m+3],10,-1894986606),u=r(u,v,o,h,t[m+10],15,-1051523),h=r(h,u,v,o,t[m+1],21,-2054922799),o=r(o,h,u,v,t[m+8],6,1873313359),v=r(v,o,h,u,t[m+15],10,-30611744),u=r(u,v,o,h,t[m+6],15,-1560198380),h=r(h,u,v,o,t[m+13],21,1309151649),o=r(o,h,u,v,t[m+4],6,-145523070),v=r(v,o,h,u,t[m+11],10,-1120210379),u=r(u,v,o,h,t[m+2],15,718787259),h=r(h,u,v,o,t[m+9],21,-343485551),o=n(o,c),h=n(h,p),u=n(u,l),v=n(v,d);return[o,h,u,v]}function p(t){for(var n="",e=32*t.length,s=0;s<e;s+=8)n+=String.fromCharCode(t[s>>5]>>>s%32&255);return n}function l(t){var n=[];for(n[(t.length>>2)-1]=void 0,s=0;s<n.length;s+=1)n[s]=0;for(var e=8*t.length,s=0;s<e;s+=8)n[s>>5]|=(255&t.charCodeAt(s/8))<<s%32;return n}function d(t){for(var n,e="0123456789abcdef",s="",a=0;a<t.length;a+=1)n=t.charCodeAt(a),s+=e.charAt(n>>>4&15)+e.charAt(15&n);return s}function o(t){return unescape(encodeURIComponent(t))}function h(t){return p(c(l(n=o(t)),8*n.length));var n}function u(t,n){return function(t,n){var e,s,a=l(t),i=[],r=[];for(i[15]=r[15]=void 0,16<a.length&&(a=c(a,8*t.length)),e=0;e<16;e+=1)i[e]=909522486^a[e],r[e]=1549556828^a[e];return s=c(i.concat(l(n)),512+8*n.length),p(c(r.concat(s),640))}(o(t),o(n))}function v(t,n,e){return n?e?u(n,t):d(u(n,t)):e?h(t):d(h(t))}"function"==typeof define&&define.amd?define((function(){return v})):"object"==typeof module&&module.exports?module.exports=v:t.md5=v}(this);