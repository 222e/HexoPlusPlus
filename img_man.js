function round(t,n){return Math.round(+t+"e"+n)/Math.pow(10,n)}let imgsize=0;var ctJson="/hpp/admin/api/getimglist";function del(t){swal({title:"确定！",text:`你将要删除${t}，真的这么做么？`,icon:"warning",buttons:!0,dangerMode:!0}).then((n=>{n?delfile(t):swal("好的，当前文件没有被删除",{icon:"success"})}))}function delfile(t){var n=ajaxObject();n.open("GET","/hpp/admin/api/delimage/"+t,!0),n.setRequestHeader("Content-Type","text/plain"),n.onreadystatechange=function(){4==n.readyState&&(200==n.status?swal("已删除！",{icon:"success",buttons:{yes:"是"}}).then((t=>{window.location.reload()})):swal({title:"失败！",text:"文件删除失败，请确定您是否有权限删除，或者该文件是否存在",icon:"warning"}))},n.send()}$.getJSON(ctJson,(function(t){document.getElementById("tbody_img").innerHTML="",$.each(t,(function(t,n){imgsize=round(n.size/1024,2),$("#tbody_img").append(`\n\t\t\t\t<tr>\n                          <td>\n                           ${n.name}\n                          </td>\n                          <td>\n                            ${imgsize}KB\n                          </td>\n\t\t\t\t\t\t  <td>\n                            <img data-src="https://cdn.jsdelivr.net/gh/${hpp_githubimageusername}/${hpp_githubimagerepo}@${hpp_githubimagebranch}${hpp_githubimagepath}${n.name}" class="lazy_img" style="width:100px" src="${hpp_lazy_img}">\n                          </td>\n                          <td>\n                            <a href="https://cdn.jsdelivr.net/gh/${hpp_githubimageusername}/${hpp_githubimagerepo}@${hpp_githubimagebranch}${hpp_githubimagepath}${n.name}">CDN链接</a>\n                          </td>\n                          <td>\n                            <a href="javascript:del('${n.name}');">删除</a>\n                          </td>\n\t\t\t\t\t\t  <td>\n                            <a href="${n.download_url}">原始地址</a>\n                          </td>\n\t\t\t\t\t\t  <td>\n                            <a href="${n.html_url}">Github地址</a>\n                          </td>\n                        </tr>\n                `)})),$(".lazy_img").Lazy()}));